<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Nester.js</title>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"></script>
<script src="../../dragg/jquery.dragg.js"></script>
<script src="../jquery.nester.js"></script>
<script>
$(document).ready(function(e) {
    
	var parser = function(){ return $(this).attr('id');}
	var dropAction = function(){ 
		
		var arr = $(this).nester('toArray', { parser : parser });
		
		console.log(arr);
		
	}
	var dropAction2 = function(){ 
		
		$(this).nester('destroy');
		
	}
	$('#nestthis').nester({	onDrop : dropAction2 });
	
});
</script>
<style>
li{
	cursor: pointer;
}
</style>
</head>

<body>

<ul id="nestthis">
  <li id="1">Item 1
    <ul>
    	<li id="1.1">Item 1.1</li>
        <li id="1.2">Item 1.2</li>
    </ul>
  </li>
  <li id="2">Item 2</li>
  <li id="3">Item 3</li>
  <li id="4">Item 4</li>
  <li id="5">Item 5</li>
</ul>
<div id="debug">&nbsp;</div>
</body>
</html>